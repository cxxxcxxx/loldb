{% extends "base.html" %}
{% block content %}
<div class="article-container">
    <h1 class="article-title">{{ article[1] }}</h1>

    {% for block in blocks %}
        {% if block[2] == "text" %}
            <p class="article-text">{{ block[3] }}</p>

        {% elif block[2] == "image" %}
            <div class="article-image-container">
                <img src="{{ url_for('static', filename='uploads/' ~ block[3]) }}" class="article-image">
            </div>

        {% elif block[2] == "heading" %}
            {% set heading_type = block[4] %}
            {% if heading_type == "h2" %}
                <h2 class="article-heading">{{ block[3] }}</h2>
            {% elif heading_type == "h3" %}
                <h3 class="article-heading">{{ block[3] }}</h3>
            {% elif heading_type == "h4" %}
                <h4 class="article-heading">{{ block[3] }}</h4>
            {% endif %}

        {% elif block[2] == "item_grid" %}
            <h3>Item Build</h3>
            <div class="item-build-grid">
                {% for item in build_items_by_block[block[0]] %}
                    <div class="item-slot" data-id="{{ item[0] }}">
                        <img src="{{ url_for('static', filename='items/' + item[3]) }}" alt="Item">
                        <form action="{{ url_for('delete_item', item_id=item[0]) }}" method="post" class="delete-form">
                            <button type="submit">üóëÔ∏è</button>
                        </form>
                    </div>
                {% endfor %}
            </div>
            <div class="add-item-container">
                <a href="{{ url_for('add_item_build', block_id=block[0]) }}" class="btn-add-item">‚ûï Item hinzuf√ºgen</a>
            </div>
        {% endif %}
    {% endfor %}
</div>

<style>
.article-container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
    font-family: Arial, sans-serif;
}

.article-title {
    font-size: 2.5em;
    margin-bottom: 20px;
}

.article-heading {
    font-size: 1.8em;
    margin-top: 25px;
    margin-bottom: 15px;
    color: #007bff;
}

.article-text {
    font-size: 1.1em;
    line-height: 1.6;
    margin-bottom: 15px;
}

.article-image-container {
    margin: 15px 0;
    text-align: center;
}

.article-image {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.item-build-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin: 15px 0;
}

.item-slot {
    position: relative;
    width: 60px;
    height: 60px;
    text-align: center;
}

.item-slot img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}

.delete-form {
    display: none;
    position: absolute;
    top: -5px;
    right: -5px;
}

.item-slot:hover .delete-form {
    display: block;
}

.add-item-container {
    text-align: center;
    margin-bottom: 25px;
}

.btn-add-item {
    display: inline-block;
    padding: 8px 12px;
    background: #007bff;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    transition: 0.2s;
}

.btn-add-item:hover {
    background: #0056b3;
}
</style>
{% endblock %}
