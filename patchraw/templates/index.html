{% extends "base.html" %}
{% block content %}
<div class="index-container">

  <div class="card-panel" style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
    <div>
      <div class="page-title">Alle Kategorien</div>
      <div class="small text-muted-light">WÃ¤hle eine Kategorie, um ihre Artikel zu sehen</div>
    </div>
    {% if current_user.is_authenticated and current_user.is_admin %}
      <div>
        <a href="{{ url_for('add_category') }}" class="btn btn-primary">Neue Kategorie</a>
      </div>
    {% endif %}
  </div>

  <div style="height:var(--ui-gap)"></div>

  <div class="categories-grid-5">
    {% if g.categories_global %}
      {% for cat in g.categories_global %}
        <div class="category-card-sym">
          <div class="category-title-sym">{{ cat.name }}</div>

          {% if cat.children %}
            <div class="subcategory-list-sym">
              {% for sub in cat.children %}
                <div class="subcategory-card-sym">
                  <a href="{{ url_for('show_category', cat_id=sub.id) }}">{{ sub.name }}</a>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      {% endfor %}
    {% else %}
      <div class="card-panel">
        <p class="text-muted">Keine Kategorien vorhanden.</p>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
